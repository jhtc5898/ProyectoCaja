<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      template="blankAdmin.xhtml">
 
<ui:define name="titulo">Crear nueva cuenta</ui:define>

<ui:define name="descripcion">Creación de una nueva a un usuario aprobado</ui:define>
  
<ui:define name="indicaciones">
	<p>Ingresar la información de la nueva cuenta</p>
</ui:define>

<ui:define name="navegador">
	<div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item active">Crear nuevo cajero</li>
            </ol>
    </div>
</ui:define>

<ui:define name="menu1">
	<li class="nav-item has-treeview">
            	<a href="/coopexpress/faces/admin/solicitudes-usuario.xhtml" class="nav-link active">
              	<i class="nav-icon fas fa-user"></i>
              	<p>Solicitudes Usuario</p>
            </a>
      		</li>
	</ui:define>
	
	<ui:define name="menu">
		<li class="nav-item has-treeview">
            <a href="#" class="nav-link">
              <i class="fas fa-chart-pie"></i>
              <p>
                Administracion Cuentas
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/crear-personal.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Crear nuevo cajero</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/listar-cuenta.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Lista de Cuentas</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item has-treeview">
            <a href="#" class="nav-link">
              <i class="fas fa-user"></i>
              <p>
                Administracion Usuarios
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/crear-usuario.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Crear nuevo usuario</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/listar-usuario.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Lista de Usuarios</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item has-treeview">
            <a href="#" class="nav-link">
              <i class="fas fa-edit"></i>
              <p>Tipo de Cuenta                
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/crear-tipo-cuenta.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Crear Tipo Cuenta</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/listar-tipo-cuenta.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Lista de Tipo Cuenta</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item has-treeview">
            <a href="#" class="nav-link">
            
              <i class="fas fa-comment-dollar"></i>
              <p>
                Tipo transaccion
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/crear-tipo-transaccion.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Crear Tipo Transaccion</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="/coopexpress/faces/admin/lista-tipo-transaccion.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Lista Tipo Transaccion</p>
                </a>
              </li>
            </ul>
    	</li>    
	</ui:define>

<ui:define name="contenido">
<!-- Horizontal Form -->			
            <div class="card card-info">
              <div class="card-header">
                <h3 class="card-title">Formulario de registro</h3>
              </div>
            <h:form id="crearUsuario">
            <div class="card-body">
            <b><h:outputText value="#{gestionUsuariosBean.mensaje}" style="color:#4AC821"> </h:outputText></b>
            <span class="dropdown-header" style="color: black"><h5> 2. Datos de la cuenta</h5></span>
              		<div class="col-3">
           				<label class="col-form-label">Cedula usuario</label>
						<h:inputText styleClass="form-control" value="#{gestionUsuariosBean.usuario.cedula}" readonly="true"/>
            		</div>
            		
            		<div class="row" style="margin-left: 0.0%">
            			<div class="col-4">
            			<label class="col-form-label">Correo Electrónico</label>
						<h:inputText id="txtCorreo" styleClass="form-control" required="true" requiredMessage="Ingresar un correo" validatorMessage="La estructura del correo no es valida" value="#{gestionCuentasBean.cuenta.correo_cuenta}">
							<f:validateRegex  pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
						</h:inputText>
						<h:message for="txtCorreo" style="color:red"/>
            			</div>
            			
            			<div class="col-3">
            			<label class="col-form-label">Contraseña</label>
						<h:inputText id="txtContrasena" styleClass="form-control" required="true" requiredMessage="Ingresar una contraseña" validatorMessage="Debe tener 6 o mas caracteres" pt:type="password" value="#{gestionCuentasBean.cuenta.pswd_cuenta}">
							<f:validateLength for="txtContrasena" minimum="6" />
						</h:inputText>
						<h:message for="txtContrasena" style="color:red"/>
            			</div>
					</div>
					
					<div class="col-3">
            			<label class="col-form-label">Saldo</label>
						<h:inputText styleClass="form-control" value="#{gestionCuentasBean.cuenta.saldo_cuenta}"/>
            		</div>
            		
            		<div class="col-3">
            		<label class="col-form-label">Tipo Cuenta</label>
            			<h:column>
							<h:selectOneMenu id="tipo" required="true" requiredMessage="Seleccionar un tipo" value="#{gestionCuentasBean.cuenta.tipo_cuenta.codigo_tipo_cuenta}" styleClass="form-control">
								<f:selectItem itemValue="#{null}" itemLabel="--Seleccionar--" />
								<f:selectItems value="#{gestionCuentasBean.cuentasItem}" />
							</h:selectOneMenu>
						</h:column>
						<h:message for="tipo" style="color:red"/>
            		</div>
            </div>
            		<div class="card-footer">
						<h:commandButton value="Crear cuenta" styleClass="btn btn-success" action="#{gestionCuentasBean.guardarCuenta(gestionUsuariosBean.usuario.cedula)}" />
					</div>
			</h:form>
		</div>
</ui:define>
</ui:composition>