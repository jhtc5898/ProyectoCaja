<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      template="blank-Usuarios.xhtml"> 
      
<ui:define name="titulo">Actualizar datos de cuenta</ui:define>

<ui:define name="navegador">
	<div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="home-Usuario.xhtml">Inicio</a></li>
              <li class="breadcrumb-item"><a href="perfil.xhtml">Perfil De Usuario</a></li>
              <li class="breadcrumb-item active">Actualizar Cuenta</li>
            </ol>
    </div>
</ui:define>

<ui:define name="descripcion">Actualiza tu cuenta</ui:define>

<ui:define name="indicaciones">
	<strong><p><b style="color:red">*Importante al actualizar el correo o contraseña la sesion se cerrará*</b></p>
	<p>En caso de no actualizar presionar cancelar</p></strong>
</ui:define>

<ui:define name="menu1">
<li class="nav-item has-treeview">
            	<a href="/coopexpress/faces/Usuario/home-Usuario.xhtml" class="nav-link">
              	<i class="nav-icon fas fa-home"></i>
              	<p>Pagina de Inicio</p>
            </a>
      		</li>
      		<li class="nav-item has-treeview">
            	<a href="/coopexpress/faces/Usuario/perfil.xhtml" class="nav-link active">
              	<i class="nav-icon fas fa-user"></i>
              	<p>Mi perfil</p>
            </a>
      		</li>
</ui:define>

<ui:define name="menu">
	<li class="nav-item has-treeview">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-dollar-sign"></i>
              <p>
                Transacciones
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/coopexpress/faces/Usuario/deposito.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Transferencia</p>
                </a>
              </li>
               <!--<li class="nav-item">
                <a href="/coopexpress/faces/Usuario/retiro.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Retiro</p>
                </a>
              </li> -->
              <li class="nav-item">
                <a href="/coopexpress/faces/Usuario/solicitud-credito.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Solicitud de crédito</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item has-treeview">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fas fa-file-invoice-dollar"></i>
              <p>Creditos <i class="fas fa-angle-left right"></i></p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/coopexpress/faces/Usuario/tabla-pagos.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Tabla de pagos</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="/coopexpress/faces/Usuario/informe-credito.xhtml" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Informe del crédito</p>
                </a>
              </li>
            </ul>
          </li>  
</ui:define>

<ui:define name="contenido">
<div class="card card-info">
              <!-- form start -->
              <h:form id="actualizar">
              
              	<div class="card card-success">
              		<div class="card-header">
                		<h3 class="card-title">Actualizar</h3>
              		</div>
              	</div>
              	<div class="card-body">
                   <h:dataTable value="#{gestionCuentasBean.cuenta}" var="cuenta" styleClass="table table-bordered">
					<h:column>
						<label class="col-form-label">Numero Cuenta </label>
						<h:inputText value="#{cuenta.numero_cuenta}" styleClass="form-control" readonly = "true"/>
					</h:column>
					<h:column>
					
						<label class="col-form-label">Saldo  </label>
						<div class="input-group-prepend">
                    		<span class="input-group-text">
                      		<i class="fas fa-dollar-sign"></i>
                    		</span>
                    		<h:inputText value="#{cuenta.saldo_cuenta}" styleClass="form-control" readonly = "true"/>
                  		</div>
						
					</h:column>
					<h:column>
						<label class="col-form-label">Correo  </label>
						<h:inputText id="txtCorreo" styleClass="form-control" validatorMessage="La estructura del correo no es valida" value="#{cuenta.correo_cuenta}">
							<f:validateRegex  pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
						</h:inputText>
						<h:message for="txtCorreo" style="color:red"/>
					</h:column>
						
					<h:column>
						<label class="col-form-label">Modificar Contraseña  </label>
						<h:inputText id="txtContrasena" styleClass="form-control" validatorMessage="La contraseña debe tener mas de 5 caracteres" pt:type="password" value="#{cuenta.pswd_cuenta}">
							<f:validateLength for="txtContrasena" minimum="6" />
						</h:inputText>
						<h:message for="txtContrasena" style="color:red"/>
					</h:column>
				</h:dataTable>
                </div>  
                <!-- /.card-body -->
                <div class="card-footer">
                 	<h:commandButton action="#{gestionCuentasBean.actualizarCuentaUsuario()}" id="boton" value="Actualizar" styleClass="btn btn-info" />&#160;
                 	<a href="perfil.xhtml" class="btn btn-danger">Cancelar</a>&#160;
                 	<h:message for="boton" style="color:red"/>
                </div>
              </h:form>
            </div>
            <!-- /.card -->
</ui:define>
</ui:composition>


